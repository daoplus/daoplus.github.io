import{k as i,aX as j,a as R,r as K,p as q,aE as O,o as p,J as B,q as d,j as h,l as m,B as V,s as S,t as T,c_ as J,i as v,F as Y,z as E}from"./index.855cea3b.js";import{C as P}from"./index.0b48e813.js";import"./index.e51f7cfd.js";import"./index.be74771c.js";import{T as Z}from"./index.c676433f.js";import{P as Q}from"./index.3908f0b9.js";import ee from"./WorkbenchHeader.1b0c46aa.js";import{L as ue}from"./LockOutlined.88b8499e.js";import"./index.0e14e3b7.js";import"./useRefs.c107d3d5.js";import"./iconUtil.d30e61eb.js";import"./eagerComputed.aa848556.js";import"./index.cc7d43b8.js";import"./index.d0baec16.js";import"./useSize.eba90fc1.js";import"./useWindowSizeFn.0b52b27d.js";import"./useContentViewHeight.7b67efb6.js";import"./ArrowLeftOutlined.f5564e30.js";import"./index.0f55604f.js";import"./transButton.a29f7644.js";var te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},oe=te;function z(t){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?Object(arguments[o]):{},n=Object.keys(u);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(u).filter(function(s){return Object.getOwnPropertyDescriptor(u,s).enumerable}))),n.forEach(function(s){le(t,s,u[s])})}return t}function le(t,o,u){return o in t?Object.defineProperty(t,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[o]=u,t}var U=function(o,u){var n=z({},o,u.attrs);return i(j,z({},n,{icon:oe}),null)};U.displayName="SaveOutlined";U.inheritAttrs=!1;var ne=U,re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"unlock",theme:"outlined"},ie=re;function H(t){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?Object(arguments[o]):{},n=Object.keys(u);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(u).filter(function(s){return Object.getOwnPropertyDescriptor(u,s).enumerable}))),n.forEach(function(s){ae(t,s,u[s])})}return t}function ae(t,o,u){return o in t?Object.defineProperty(t,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[o]=u,t}var x=function(o,u){var n=H({},o,u.attrs);return i(j,H({},n,{icon:ie}),null)};x.displayName="UnlockOutlined";x.inheritAttrs=!1;var se=x;const pe=[{title:"SKU CHP 341",model:"XC098-YU99214",code:"3098-12943",key:"0",count:100,unit:"\u5957"},{title:"1 \u7EA7\u7269\u6599 002",model:"FG113-XV22X14",code:"1121-41331",key:"1",count:100,unit:"\u7247",supplier:"\u706B\u51B0\u79D1\u6280",sourceType:"\u5916\u8D2D",parentKey:"0",description:"\u6F5C\u5728\u98CE\u9669\uFF1A\u4EA7\u80FD\u5F02\u5E38"},{title:"1 \u7EA7\u7269\u6599 082",model:"BT218-CU32287",code:"2351-09878",key:"2",count:100,unit:"\u9488",supplier:"\u6C42\u771F\u7CBE\u5DE5",sourceType:"\u5916\u8D2D",parentKey:"0"},{title:"1 \u7EA7\u7269\u6599 022",model:"BV301-XU11246",code:"2351-09878",key:"3",count:100,unit:"\u9488",supplier:"KDX",parentKey:"0",description:"\u6F5C\u5728\u98CE\u9669\uFF1A\u4F9B\u8D27\u5EF6\u8FDF"},{title:"2 \u7EA7\u7269\u6599 002-087",model:"FV213-XV22X14",code:"2498-07687",key:"12",count:100,unit:"\u5957",supplier:"\u4E94\u884C\u5316\u5B66",sourceType:"\u5916\u8D2D",parentKey:"1"},{title:"2 \u7EA7\u7269\u6599 002-034",model:"XT211-CU32287",code:"9870-45372",key:"13",count:100,unit:"\u5355\u4F4D",supplier:"\u56FD\u79D8\u7CBE\u5DE5",sourceType:"\u5916\u8D2D",parentKey:"1"},{title:"2 \u7EA7\u7269\u6599 002-041",model:"ER980-XV22X14",code:"0767-98706",key:"14",count:100,unit:"\u514B",supplier:"\u6838\u79D1\u7535\u5B50",sourceType:"\u5916\u8D2D",parentKey:"1",description:"\u6F5C\u5728\u98CE\u9669\uFF1A\u4EA7\u80FD\u5F02\u5E38"},{title:"2 \u7EA7\u7269\u6599 002-071",model:"DT219-TV17X08",code:"2767-10719",key:"16",count:100,unit:"\u514B",supplier:"\u5373\u523B\u5316\u5DE5",sourceType:"\u5916\u8D2D",parentKey:"1"},{title:"2 \u7EA7\u7269\u6599 082-378",model:"DF012-CU32287",code:"3478-05983",key:"23",count:100,unit:"\u4E2A",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"2"},{title:"2 \u7EA7\u7269\u6599 082-012",model:"BF398-CU32287",code:"1347-26889",key:"29",count:100,unit:"Ku",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"2"},{title:"3 \u7EA7\u7269\u6599 002-087-001",model:"FK313-XF33X13",code:"3498-37687",key:"31",count:200,unit:"\u5343\u514B",supplier:"\u4E45\u80F6\u5408\u6210\u79D1\u6280",sourceType:"\u5916\u8D2D",parentKey:"12"},{title:"3 \u7EA7\u7269\u6599 002-087-002",model:"FR383-SV31X03",code:"3465-37183",key:"32",count:550,unit:"\u5343\u514B",supplier:"\u5927\u5730\u5143\u7D20",sourceType:"\u5916\u8D2D",parentKey:"12"},{title:"3 \u7EA7\u7269\u6599 082-041-098",model:"TH491-KU12586",code:"2327-15489",key:"33",count:100,unit:"\u9897",supplier:"\u53F0\u79EF\u7535\u5341\u516D\u5382",sourceType:"\u5916\u8D2D",parentKey:"14"},{title:"3 \u7EA7\u7269\u6599 082-012-098",model:"TH491-KU12586",code:"2327-15489",key:"34",count:100,unit:"Ku",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"29"},{title:"3 \u7EA7\u7269\u6599 082-012-112",model:"WZ597-KG32519",code:"1688-670916",key:"35",count:100,unit:"Ka",supplier:"\u9053\u52A0\u79D1\u6280",sourceType:"\u5916\u8D2D",parentKey:"29"},{title:"4 \u7EA7\u7269\u6599 082-012-098-442",model:"TC491-KS00586",code:"1369-12089",key:"40",count:100,unit:"Ku",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"33"},{title:"4 \u7EA7\u7269\u6599 082-012-098-356",model:"WLK97-KS00666",code:"2344-610916",key:"41",count:100,unit:"Ka",supplier:"\u9053\u52A0\u79D1\u6280",sourceType:"\u5916\u8D2D",parentKey:"33"},{title:"5 \u7EA7\u7269\u6599 082-012-098-442-100",model:"TC591-KS00556",code:"5369-14085",key:"50",count:100,unit:"Ku",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"40"},{title:"5 \u7EA7\u7269\u6599 082-012-098-442-098",model:"WFK97-KS00566",code:"5344-510915",key:"51",count:100,unit:"Ka",supplier:"\u9053\u52A0\u79D1\u6280",sourceType:"\u5916\u8D2D",parentKey:"40"},{title:"6 \u7EA7\u7269\u6599 082-012-098-442-100-001",model:"TC691-KS00656",code:"6369-64086",key:"60",count:100,unit:"Ku",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"50"},{title:"6 \u7EA7\u7269\u6599 082-012-098-442-100-002",model:"WFK97-KS10666",code:"6344-610966",key:"61",count:100,unit:"Ka",supplier:"\u9053\u52A0\u79D1\u6280",sourceType:"\u5916\u8D2D",parentKey:"50"},{title:"6 \u7EA7\u7269\u6599 082-012-098-442-100-003",model:"TC691-KS60616",code:"6369-64086",key:"62",count:100,unit:"Ku",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"50"},{title:"6 \u7EA7\u7269\u6599 082-012-098-442-100-004",model:"WFK97-KS16606",code:"6344-616916",key:"63",count:100,unit:"Ka",supplier:"\u9053\u52A0\u79D1\u6280",sourceType:"\u5916\u8D2D",parentKey:"50"},{title:"7 \u7EA7\u7269\u6599 082-012-098-442-100-003-001",model:"TC791-KS70717",code:"7369-74087",key:"70",count:100,unit:"Ku",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"62"},{title:"8 \u7EA7\u7269\u6599 082-012-098-442-100-003-001-001",model:"TC891-KS80818",code:"8369-84088",key:"80",count:100,unit:"Ku",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"70"},{title:"8 \u7EA7\u7269\u6599 082-012-098-442-100-003-001-002",model:"TC876-KS81873",code:"8257-84186",key:"81",count:500,unit:"\u514B",supplier:"\u6BD4\u5361\u601D\u6377\u5316\u5B66\u682A\u5F0F\u4F1A\u793E",sourceType:"\u5916\u8D2D",parentKey:"70"}],L=(t,o)=>(o.filter(n=>n.parentKey===t.key)||[]).map(n=>({title:n.title,key:n.key,model:n.model,code:n.code,count:n.count,unit:n.unit,supplier:n.supplier,sourceType:n.sourceType,description:n.description,children:L(n,o)})),ce=()=>{const t=pe,o=[];return t&&o.push({title:t[0].title,key:t[0].key,model:t[0].model,code:t[0].code,count:t[0].count,unit:t[0].unit,supplier:t[0].supplier,sourceType:t[0].sourceType,description:t[0].description,children:L(t[0],t)}),o},de={class:"lg:flex"},ye={class:"lg:w-7/10 w-full enter-y"},me={style:{padding:"10px",width:"80%",height:"120px",display:"flex","flex-direction":"column"}},ve={style:{"margin-top":"20px"}},fe={key:0,style:{color:"#1890ff","text-weight":"bold"}},De={key:1,style:{color:"#ff0000"}},Ee={class:"lg:w-3/10 w-full enter-y"},Ke={key:0},he={key:1,style:{"margin-top":"5px"}},ge={key:2,style:{"margin-top":"5px"}},ke={key:3,style:{"margin-top":"5px"}},Fe={key:4,style:{"margin-top":"5px"}},Te={key:5,style:{"margin-top":"5px"}},be={key:6,style:{"margin-top":"5px"}},Ie=R({__name:"index",setup(t){const o=K(!0),u=K(!0),n=K("\u89E3\u9501"),s=K(!1),X=K("admin"),w=K("123456"),M=c=>{s.value=!1,u.value=!1,n.value="\u9501\u5B9A"},W=()=>{u.value?s.value=!0:(u.value=!u.value,n.value="\u89E3\u9501")},$=ce(),_=K($),G=c=>{console.log(c)},I=c=>{console.log(c);const l=c.node.key,f=c.dragNode.key,b=c.node.pos.split("-"),A=c.dropPosition-Number(b[b.length-1]),r=(a,D,F)=>{a.forEach((g,C)=>{if(g.key===D)return F(g,C,a);if(g.children)return r(g.children,D,F)})},y=[..._.value];let k;if(r(y,f,(a,D,F)=>{F.splice(D,1),k=a}),!c.dropToGap)r(y,l,a=>{a.children=a.children||[],a.children.unshift(k)});else if((c.node.children||[]).length>0&&c.node.expanded&&A===1)r(y,l,a=>{a.children=a.children||[],a.children.unshift(k)});else{let a=[],D=0;r(y,l,(F,g,C)=>{a=C,D=g}),A===-1?a.splice(D,0,k):a.splice(D+1,0,k)}_.value=y},e=q({title:"",model:"",code:"",count:"",unit:"",supplier:"",sourceType:"",description:""}),N=(c,l)=>{e.title=l.node.title,e.model=l.node.model,e.code=l.node.code,e.count=l.node.count,e.unit=l.node.unit,e.supplier=l.node.supplier,e.sourceType=l.node.sourceType,e.description=l.node.description};return setTimeout(()=>{o.value=!1},1e3),(c,l)=>{const f=O("a-input"),b=O("a-input-password"),A=O("a-input-search");return p(),B(m(Q),null,{headerContent:d(()=>[i(ee)]),default:d(()=>[h("div",de,[h("div",ye,[i(m(P),{title:"\u7269\u6599\u6E05\u5355",class:"!my-4 enter-y",loading:o.value},{extra:d(()=>[i(m(V),{shape:"round",size:"small",onClick:W},{icon:d(()=>[u.value?(p(),B(m(ue),{key:0})):(p(),B(m(se),{key:1}))]),default:d(()=>[S(" "+T(n.value),1)]),_:1})]),default:d(()=>[i(m(J),{centered:"",visible:s.value,"onUpdate:visible":l[2]||(l[2]=r=>s.value=r),title:"\u4FEE\u6539 BOM \u6388\u6743\u767B\u5F55",onOk:M,height:"200px",width:"300px"},{default:d(()=>[h("div",me,[h("div",null,[i(f,{placeholder:"\u7528\u6237\u540D",value:X.value,"onUpdate:value":l[0]||(l[0]=r=>X.value=r)},null,8,["value"])]),h("div",ve,[i(b,{placeholder:"\u5BC6\u7801",value:w.value,"onUpdate:value":l[1]||(l[1]=r=>w.value=r)},null,8,["value"])])])]),_:1},8,["visible"]),i(A,{style:{"margin-bottom":"8px"},placeholder:"\u7269\u6599\u68C0\u7D22"}),i(m(Z),{"show-line":"",draggable:!u.value,title:"SKU CHP 341 \u7269\u6599\u6E05\u5355 ( BOM )",checkable:!1,height:512,"tree-data":_.value,onSelect:N,onDragenter:G,onDrop:I},{title:d(({title:r,key:y})=>[y==="0"?(p(),v("span",fe,T(r),1)):y==="14"||y==="1"||y==="3"?(p(),v("span",De,T(r),1)):(p(),v(Y,{key:2},[S(T(r),1)],64))]),_:1},8,["draggable","tree-data"])]),_:1},8,["loading"])]),h("div",Ee,[i(m(P),{title:"\u7269\u6599\u5C5E\u6027",class:"!my-4 enter-y",loading:o.value},{extra:d(()=>[!u.value&&e.title?(p(),B(m(V),{key:0,shape:"round",size:"small"},{icon:d(()=>[i(m(ne))]),default:d(()=>[S(" \u66F4\u65B0 ")]),_:1})):E("",!0)]),default:d(()=>[h("ul",null,[e.title!=null&&e.title!=null?(p(),v("li",Ke,[i(f,{disabled:u.value,placeholder:"\u540D\u79F0",value:e.title,"onUpdate:value":l[3]||(l[3]=r=>e.title=r),"addon-before":"\u540D\u79F0:"},null,8,["disabled","value"])])):E("",!0),e.model!=null&&e.model!=null?(p(),v("li",he,[i(f,{disabled:u.value,placeholder:"\u578B\u53F7",value:e.model,"onUpdate:value":l[4]||(l[4]=r=>e.model=r),"addon-before":"\u578B\u53F7:"},null,8,["disabled","value"])])):E("",!0),e.code!=null&&e.code!=null?(p(),v("li",ge,[i(f,{disabled:u.value,placeholder:"\u7F16\u7801",value:e.code,"onUpdate:value":l[5]||(l[5]=r=>e.code=r),"addon-before":"\u7F16\u7801:"},null,8,["disabled","value"])])):E("",!0),e.count!=null&&e.count!=null?(p(),v("li",ke,[i(f,{disabled:u.value,placeholder:"\u7528\u91CF",value:e.count,"onUpdate:value":l[6]||(l[6]=r=>e.count=r),"addon-before":"\u7528\u91CF:","addon-after":e.unit},null,8,["disabled","value","addon-after"])])):E("",!0),e.supplier!=null&&e.supplier!=null?(p(),v("li",Fe,[i(f,{placeholder:"\u4F9B\u5E94\u5546",disabled:u.value,value:e.supplier,"onUpdate:value":l[7]||(l[7]=r=>e.supplier=r),"addon-before":"\u4F9B\u5E94\u5546:"},null,8,["disabled","value"])])):E("",!0),e.sourceType!=null&&e.sourceType!=null?(p(),v("li",Te,[i(f,{disabled:u.value,placeholder:"\u4F9B\u5E94\u5F62\u5F0F",value:e.sourceType,"onUpdate:value":l[8]||(l[8]=r=>e.sourceType=r),"addon-before":"\u4F9B\u5E94\u5F62\u5F0F:"},null,8,["disabled","value"])])):E("",!0),e.description?(p(),v("li",be,T(e.description),1)):E("",!0)])]),_:1},8,["loading"])])])]),_:1})}}});export{Ie as default};
