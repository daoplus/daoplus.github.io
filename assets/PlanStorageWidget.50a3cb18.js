import{H as f,a as m,r as y,f as S,E as B,o as _,J as b,q as u,j as a,k as i,l as o,t as c}from"./index.be910d5d.js";import{C as g}from"./index.e897df4d.js";import"./index.dd480e4d.js";import"./index.7d1ab8bc.js";import{L as k,A as h}from"./index.23e5a568.js";import{u as E}from"./useECharts.ef55503e.js";import"./index.c2039197.js";import"./useRefs.58c201a9.js";import"./eagerComputed.b8a2227d.js";const C={class:"planBox"},v={class:"stockDetails"},x={class:"itemLabel"},N=m({__name:"PlanStorageWidget",props:{supplierName:{type:String,default:""},materialName:{type:String,default:""},materialCode:{type:String,default:""},currentStockQuantity:{type:Number,default:0},safeStockQuantity:{type:Number,default:0},safeStockRate:{type:Number,default:0},planId:{type:Number,default:0},planStatus:{type:Number,default:0}},setup(r){const t=r,p=[{label:"\u7269\u6599\u7F16\u7801",content:t.materialCode},{label:"\u4F9B\u5E94\u5546\u540D\u79F0",content:t.supplierName},{label:"\u73B0\u6709\u5E93\u5B58",content:t.currentStockQuantity.toString()},{label:"\u5B89\u5168\u5E93\u5B58",content:t.safeStockQuantity.toString()},{label:"\u5B89\u5168\u5E93\u5B58\u6BD4\u4F8B",content:(t.safeStockRate*100).toString()+"%"}],l=y(null),{setOptions:d}=E(l),s=S(()=>{const e=t.currentStockQuantity/t.safeStockQuantity*1;return e>=.8?{label:"\u5E93\u5B58\u5145\u8DB3",color:"green"}:e>=t.safeStockRate?{label:"\u5E93\u5B58\u6B63\u5E38",color:"blue"}:{label:"\u5E93\u5B58\u4E0D\u8DB3",color:"red"}});return B(()=>{d({title:[{text:`\u5F53\u524D\u5E93\u5B58\u6BD4\u4F8B=
\u73B0\u6709\u5E93\u5B58/\u5B89\u5168\u5E93\u5B58`,left:"10%",top:"80%",textStyle:{fontSize:10}}],series:[{name:`\u5E93\u5B58${t.materialCode}@${t.supplierName}`,type:"liquidFill",radius:"128px",center:["50%","45%"],amplitude:3,data:[{value:t.currentStockQuantity/t.safeStockQuantity,name:s.value.label,itemStyle:{color:s.value.color,opacity:.6},emphasis:{itemStyle:{opacity:.8}}}],outline:{show:!1},backgroundStyle:{borderWidth:1,borderColor:"lightgrey",color:"#fff"},label:{formatter:function(e){return e.name+`
(`+(e.value*100).toFixed(2)+"%)"},fontSize:15}}]})}),(e,D)=>(_(),b(o(g),{title:`\u7269\u6599\u540D\u79F0: ${r.materialName} `,size:"small",style:{width:"480px",margin:"3px"}},{default:u(()=>[a("div",C,[a("div",{class:"stockChart",ref_key:"storageCapacityChartRef",ref:l},null,512),a("div",v,[i(o(k),{size:"small","item-layout":"horizontal","data-source":p},{renderItem:u(({item:n})=>[i(o(h),null,{default:u(()=>[a("span",x,c(n.label)+": "+c(n.content),1)]),_:2},1024)]),_:1})])])]),_:1},8,["title"]))}});var $=f(N,[["__scopeId","data-v-c534ffb4"]]);export{$ as default};
