var ve=Object.defineProperty,me=Object.defineProperties;var ye=Object.getOwnPropertyDescriptors;var ne=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable;var le=(t,e,n)=>e in t?ve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_=(t,e)=>{for(var n in e||(e={}))be.call(e,n)&&le(t,n,e[n]);if(ne)for(var n of ne(e))Se.call(e,n)&&le(t,n,e[n]);return t},Q=(t,e)=>me(t,ye(e));import{B as Ce}from"./index.02c0d4af.js";import{k as a,Q as E,U as ge,r as R,F as xe,dM as he,dN as _e,dO as we,_ as w,R as F,a as z,T as Pe,bq as $e,a1 as oe,a2 as ue,W as De,$ as je,bE as ae,f as k,a3 as re,Y as Oe,cm as Ie,X as Me,b as ke,dP as Be,l as i,aF as de,dF as Ee,dQ as Re,ct as Le,aD as se,aB as Ne,dH as Ae,L as Fe,c as ze,o as Ue,J as We,q as Te}from"./index.85326dda.js";import{g as qe}from"./get.5acece05.js";import{getDescSchema as Qe}from"./data.8b062988.js";import"./useWindowSizeFn.b069bfa4.js";import"./FullscreenOutlined.8c96991a.js";import"./index.ca360c0b.js";function A(t){return t!=null}var Ve=function(e){var n=e.itemPrefixCls,l=e.component,r=e.span,o=e.labelStyle,c=e.contentStyle,m=e.bordered,u=e.label,f=e.content,d=e.colon,P=l;if(m){var g;return a(P,{class:[(g={},E(g,"".concat(n,"-item-label"),A(u)),E(g,"".concat(n,"-item-content"),A(f)),g)],colSpan:r},{default:function(){return[A(u)&&a("span",{style:o},[u]),A(f)&&a("span",{style:c},[f])]}})}return a(P,{class:["".concat(n,"-item")],colSpan:r},{default:function(){return[a("div",{class:"".concat(n,"-item-container")},[u&&a("span",{class:["".concat(n,"-item-label"),E({},"".concat(n,"-item-no-colon"),!d)],style:o},[u]),f&&a("span",{class:"".concat(n,"-item-content"),style:c},[f])])]}})},V=Ve,He=function(e){var n=function(g,y,b){var I=y.colon,L=y.prefixCls,s=y.bordered,S=b.component,v=b.type,h=b.showLabel,M=b.showContent,D=b.labelStyle,$=b.contentStyle;return g.map(function(C,j){var O,x,p=C.props||{},N=p.prefixCls,U=N===void 0?L:N,H=p.span,J=H===void 0?1:H,X=p.labelStyle,Y=X===void 0?p["label-style"]:X,G=p.contentStyle,K=G===void 0?p["content-style"]:G,Z=p.label,ee=Z===void 0?(O=C.children)===null||O===void 0||(x=O.label)===null||x===void 0?void 0:x.call(O):Z,te=he(C),W=_e(C),T=we(C),q=C.key;return typeof S=="string"?a(V,{key:"".concat(v,"-").concat(String(q)||j),class:W,style:T,labelStyle:w(w({},D),Y),contentStyle:w(w({},$),K),span:J,colon:I,component:S,itemPrefixCls:U,bordered:s,label:h?ee:null,content:M?te:null},null):[a(V,{key:"label-".concat(String(q)||j),class:W,style:w(w(w({},D),T),Y),span:1,colon:I,component:S[0],itemPrefixCls:U,bordered:s,label:ee},null),a(V,{key:"content-".concat(String(q)||j),class:W,style:w(w(w({},$),T),K),span:J*2-1,component:S[1],itemPrefixCls:U,bordered:s,content:te},null)]})},l=e.prefixCls,r=e.vertical,o=e.row,c=e.index,m=e.bordered,u=ge(pe,{labelStyle:R({}),contentStyle:R({})}),f=u.labelStyle,d=u.contentStyle;return r?a(xe,null,[a("tr",{key:"label-".concat(c),class:"".concat(l,"-row")},[n(o,e,{component:"th",type:"label",showLabel:!0,labelStyle:f.value,contentStyle:d.value})]),a("tr",{key:"content-".concat(c),class:"".concat(l,"-row")},[n(o,e,{component:"td",type:"content",showContent:!0,labelStyle:f.value,contentStyle:d.value})])]):a("tr",{key:c,class:"".concat(l,"-row")},[n(o,e,{component:m?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0,labelStyle:f.value,contentStyle:d.value})])},Je=He;F.any;var Xe=function(){return{prefixCls:String,label:F.any,labelStyle:{type:Object,default:void 0},contentStyle:{type:Object,default:void 0},span:{type:Number,default:1}}},Ye=z({compatConfig:{MODE:3},name:"ADescriptionsItem",props:Xe(),slots:["label"],setup:function(e,n){var l=n.slots;return function(){var r;return(r=l.default)===null||r===void 0?void 0:r.call(l)}}}),fe={xxxl:3,xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function Ge(t,e){if(typeof t=="number")return t;if(ue(t)==="object")for(var n=0;n<re.length;n++){var l=re[n];if(e[l]&&t[l]!==void 0)return t[l]||fe[l]}return 3}function ce(t,e,n){var l=t;return(e===void 0||e>n)&&(l=Ie(t,{span:n}),Me(e===void 0,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),l}function Ke(t,e){var n=Oe(t),l=[],r=[],o=e;return n.forEach(function(c,m){var u,f=(u=c.props)===null||u===void 0?void 0:u.span,d=f||1;if(m===n.length-1){r.push(ce(c,f,o)),l.push(r);return}d<o?(o-=d,r.push(c)):(r.push(ce(c,d,o)),l.push(r),o=e,r=[])}),l}var Ze=function(){return{prefixCls:String,bordered:{type:Boolean,default:void 0},size:{type:String,default:"default"},title:F.any,extra:F.any,column:{type:[Number,Object],default:function(){return fe}},layout:String,colon:{type:Boolean,default:void 0},labelStyle:{type:Object,default:void 0},contentStyle:{type:Object,default:void 0}}},pe=Symbol("descriptionsContext"),B=z({compatConfig:{MODE:3},name:"ADescriptions",props:Ze(),slots:["title","extra"],Item:Ye,setup:function(e,n){var l=n.slots,r=Pe("descriptions",e),o=r.prefixCls,c=r.direction,m,u=R({});$e(function(){m=oe.subscribe(function(d){ue(e.column)==="object"&&(u.value=d)})}),De(function(){oe.unsubscribe(m)}),je(pe,{labelStyle:ae(e,"labelStyle"),contentStyle:ae(e,"contentStyle")});var f=k(function(){return Ge(e.column,u.value)});return function(){var d,P,g,y,b=e.size,I=e.bordered,L=I===void 0?!1:I,s=e.layout,S=s===void 0?"horizontal":s,v=e.colon,h=v===void 0?!0:v,M=e.title,D=M===void 0?(d=l.title)===null||d===void 0?void 0:d.call(l):M,$=e.extra,C=$===void 0?(P=l.extra)===null||P===void 0?void 0:P.call(l):$,j=(g=l.default)===null||g===void 0?void 0:g.call(l),O=Ke(j,f.value);return a("div",{class:[o.value,(y={},E(y,"".concat(o.value,"-").concat(b),b!=="default"),E(y,"".concat(o.value,"-bordered"),!!L),E(y,"".concat(o.value,"-rtl"),c.value==="rtl"),y)]},[(D||C)&&a("div",{class:"".concat(o.value,"-header")},[D&&a("div",{class:"".concat(o.value,"-title")},[D]),C&&a("div",{class:"".concat(o.value,"-extra")},[C])]),a("div",{class:"".concat(o.value,"-view")},[a("table",null,[a("tbody",null,[O.map(function(x,p){return a(Je,{key:p,index:p,colon:h,prefixCls:o.value,vertical:S==="vertical",bordered:L,row:x},null)})])])])])}}});B.install=function(t){return t.component(B.name,B),t.component(B.Item.name,B.Item),t};var ie=B;function et(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Le(t)}const tt={useCollapse:{type:Boolean,default:!0},title:{type:String,default:""},size:{type:String,validator:t=>["small","default","middle",void 0].includes(t),default:"small"},bordered:{type:Boolean,default:!0},column:{type:[Number,Object],default:()=>({xxl:4,xl:3,lg:3,md:3,sm:2,xs:1})},collapseOptions:{type:Object,default:null},schema:{type:Array,default:()=>[]},data:{type:Object}};var nt=z({name:"Description",props:tt,emits:["register"],setup(t,{slots:e,emit:n}){const l=R(null),{prefixCls:r}=ke("description"),o=Be(),c=k(()=>_(_({},t),i(l))),m=k(()=>Q(_({},i(c)),{title:void 0})),u=k(()=>!!i(c).title),f=k(()=>_({canExpand:!1},i(m).collapseOptions)),d=k(()=>_(_({},i(o)),i(m)));function P(s){l.value=_(_({},i(l)),s)}function g({label:s,labelMinWidth:S,labelStyle:v}){if(!v&&!S)return s;const h=Q(_({},v),{minWidth:`${S}px `});return a("div",{style:h},[s])}function y(){const{schema:s,data:S}=i(m);return i(s).map(v=>{const{render:h,field:M,span:D,show:$,contentMinWidth:C}=v;if($&&se($)&&!$(S))return null;const j=()=>{var N;const x=(N=i(m))==null?void 0:N.data;if(!x)return null;const p=qe(x,M);return se(h)?h(p,x):p!=null?p:""},O=C;return a(ie.Item,{label:g(v),key:M,span:D},{default:()=>{if(!C)return j();const x={minWidth:`${O}px`};return a("div",{style:x},[j()])}})}).filter(v=>!!v)}const b=()=>{let s;return a(ie,de({class:`${r}`},i(d)),et(s=y())?s:{default:()=>[s]})},I=()=>{const s=t.useCollapse?b():a("div",null,[b()]);if(!t.useCollapse)return s;const{canExpand:S,helpMessage:v}=i(f),{title:h}=i(c);return a(Re,{title:h,canExpan:S,helpMessage:v},{default:()=>s,action:()=>Ee(e,"action")})};return n("register",{setDescProps:P}),()=>i(u)?I():b()}});function lt(t){if(!Ne())throw new Error("useDescription() can only be used inside setup() or functional components!");const e=R(null),n=R(!1);function l(o){i(n)&&Ae()||(e.value=o,t&&o.setDescProps(t),n.value=!0)}return[l,{setDescProps:o=>{var c;(c=i(e))==null||c.setDescProps(o)}}]}const ot=Fe(nt),pt=z({__name:"DetailModal",props:{info:{type:Object,default:null}},setup(t){const{t:e}=ze(),[n]=lt({column:2,schema:Qe()});return(l,r)=>(Ue(),We(i(Ce),de({width:800,title:i(e)("sys.errorLog.tableActionDesc")},l.$attrs),{default:Te(()=>[a(i(ot),{data:t.info,onRegister:i(n)},null,8,["data","onRegister"])]),_:1},16,["title"]))}});export{pt as default};
