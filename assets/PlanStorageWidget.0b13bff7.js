import{H as m,a as f,r as y,f as S,E as B,o as _,J as b,q as o,j as a,k as c,l as r,t as l}from"./index.855cea3b.js";import{C as g}from"./index.0b48e813.js";import"./index.e51f7cfd.js";import"./index.be74771c.js";import{L as k,A as h}from"./index.0c5e148c.js";import{u as E}from"./useECharts.5b112278.js";import"./index.0e14e3b7.js";import"./useRefs.c107d3d5.js";import"./eagerComputed.aa848556.js";const C={class:"planBox"},v={class:"stockDetails"},x={class:"itemLabel"},N={style:{display:"none"}},D=f({__name:"PlanStorageWidget",props:{supplierName:{type:String,default:""},materialName:{type:String,default:""},materialCode:{type:String,default:""},currentStockQuantity:{type:Number,default:0},safeStockQuantity:{type:Number,default:0},safeStockRate:{type:Number,default:0},planId:{type:Number,default:0},planStatus:{type:Number,default:0}},setup(u){const t=u,n=y(null),{setOptions:d}=E(n),s=S(()=>{const e=t.currentStockQuantity/t.safeStockQuantity*1;return e>=.8?{label:"\u5E93\u5B58\u5145\u8DB3",color:"green"}:e>=t.safeStockRate?{label:"\u5E93\u5B58\u6B63\u5E38",color:"blue"}:{label:"\u5E93\u5B58\u4E0D\u8DB3",color:"red"}}),p=[{label:"\u7269\u6599\u7F16\u7801",content:t.materialCode},{label:"\u4F9B\u5E94\u5546\u540D\u79F0",content:t.supplierName},{label:"\u73B0\u6709\u5E93\u5B58",content:t.currentStockQuantity.toString()},{label:"\u5B89\u5168\u5E93\u5B58",content:t.safeStockQuantity.toString()},{label:"\u5B89\u5168\u5E93\u5B58\u6BD4\u4F8B",content:(t.safeStockRate*100).toString()+"%"}];return B(()=>{d({title:[{text:`\u5F53\u524D\u5E93\u5B58\u6BD4\u4F8B=
\u73B0\u6709\u5E93\u5B58/\u5B89\u5168\u5E93\u5B58`,left:"10%",top:"80%",textStyle:{fontSize:10}}],series:[{name:`\u5E93\u5B58${t.materialCode}@${t.supplierName}`,type:"liquidFill",radius:"128px",center:["50%","45%"],amplitude:3,data:[{value:t.currentStockQuantity/t.safeStockQuantity,name:s.value.label,itemStyle:{color:s.value.color,opacity:.6},emphasis:{itemStyle:{opacity:.8}}}],outline:{show:!1},backgroundStyle:{borderWidth:1,borderColor:"lightgrey",color:"#fff"},label:{formatter:function(e){return e.name+`
(`+(e.value*100).toFixed(2)+"%)"},fontSize:15}}]})}),(e,F)=>(_(),b(r(g),{title:`\u7269\u6599\u540D\u79F0: ${u.materialName} `,size:"small",style:{width:"480px",margin:"3px"}},{default:o(()=>[a("div",C,[a("div",{class:"stockChart",ref_key:"storageCapacityChartRef",ref:n},null,512),a("div",v,[c(r(k),{size:"small","item-layout":"horizontal","data-source":p},{renderItem:o(({item:i})=>[c(r(h),null,{default:o(()=>[a("span",x,l(i.label)+": "+l(i.content),1)]),_:2},1024)]),_:1})]),a("div",N,l(u.currentStockQuantity),1)])]),_:1},8,["title"]))}});var q=m(D,[["__scopeId","data-v-632e1032"]]);export{q as default};
