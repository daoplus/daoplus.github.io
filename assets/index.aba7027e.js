import{J as L,a as $,cH as b,bh as h,bC as C,aM as O,b as U,c as N,p as S,f as A,aF as o,o as u,i as x,k as t,s as d,K as v,C as D,j as r,n as a,t as E,F as R,aO as V}from"./index.be43a13b.js";import{D as B}from"./siteSetting.ff46fd99.js";import{c as w,u as P}from"./index.2842241d.js";import{a as F}from"./index.8ad8a951.js";import{h as T}from"./header.d801b988.js";import"./FullscreenOutlined.6a49efaf.js";import"./index.a687098d.js";import"./useWindowSizeFn.064eabda.js";import"./useContentViewHeight.533f2499.js";import"./useSortable.e1305827.js";import"./_baseIteratee.c6f5edd5.js";import"./get.203c84ab.js";import"./index.f6b8dae6.js";import"./useRefs.41283ad7.js";import"./lock.359ea65e.js";const H=$({name:"UserDropdown",components:{Dropdown:b,Menu:h,MenuItem:w(()=>C(()=>import("./DropMenuItem.0fee7246.js"),["assets/DropMenuItem.0fee7246.js","assets/index.be43a13b.js","assets/index.de81f770.css"])),MenuDivider:h.Divider,LockAction:w(()=>C(()=>import("./LockModal.5f8eeacd.js"),["assets/LockModal.5f8eeacd.js","assets/LockModal.0068f88c.css","assets/index.be43a13b.js","assets/index.de81f770.css","assets/index.8ad8a951.js","assets/index.f6def211.css","assets/useWindowSizeFn.064eabda.js","assets/FullscreenOutlined.6a49efaf.js","assets/useForm.9d49f661.js","assets/useForm.ffa91181.css","assets/index.38c629f8.js","assets/index.251e5d3f.css","assets/index.13465593.js","assets/index.a18cc309.css","assets/_baseIteratee.c6f5edd5.js","assets/get.203c84ab.js","assets/useSize.28fc9fbf.js","assets/index.49b0feba.js","assets/index.3a3c1369.css","assets/index.f2ce6183.js","assets/index.ec35cb0a.css","assets/index.0870b541.js","assets/index.49ada229.css","assets/index.5c671de6.js","assets/index.47f7c782.css","assets/index.7a7f3264.js","assets/index.be8c30f5.css","assets/index.ca4c23e3.js","assets/index.7b8b5e30.css","assets/eagerComputed.b7d50037.js","assets/useRefs.41283ad7.js","assets/download.c37290b3.js","assets/index.47208870.js","assets/index.cb030764.css","assets/index.5eb068c0.js","assets/useSortable.e1305827.js","assets/lock.359ea65e.js","assets/header.d801b988.js"]))},props:{theme:O.oneOf(["dark","light"])},setup(){const{prefixCls:e}=U("header-user-dropdown"),{t:f}=N(),{getShowDoc:_,getUseLockPage:g}=P(),s=S(),k=A(()=>{const{realName:m="",avatar:M,desc:I}=s.getUserInfo||{};return{realName:m,avatar:M||T,desc:I}}),[n,{openModal:i}]=F();function c(){i(!0)}function p(){s.confirmLoginOut()}function l(){V(B)}function y(m){switch(m.key){case"logout":p();break;case"doc":l();break;case"lock":c();break}}return{prefixCls:e,t:f,getUserInfo:k,handleMenuClick:y,getShowDoc:_,register:n,getUseLockPage:g}}}),j=["src"];function z(e,f,_,g,s,k){const n=o("MenuItem"),i=o("MenuDivider"),c=o("Menu"),p=o("Dropdown"),l=o("LockAction");return u(),x(R,null,[t(p,{placement:"bottomLeft",overlayClassName:`${e.prefixCls}-dropdown-overlay`},{overlay:d(()=>[t(c,{onClick:e.handleMenuClick},{default:d(()=>[e.getShowDoc?(u(),v(n,{key:"doc",text:e.t("layout.header.dropdownItemDoc"),icon:"ion:document-text-outline"},null,8,["text"])):D("",!0),e.getShowDoc?(u(),v(i,{key:1})):D("",!0),t(n,{key:"logout",text:e.t("layout.header.dropdownItemLoginOut"),icon:"ion:power-outline"},null,8,["text"])]),_:1},8,["onClick"])]),default:d(()=>[r("span",{class:a([[e.prefixCls,`${e.prefixCls}--${e.theme}`],"flex"])},[r("img",{class:a(`${e.prefixCls}__header`),src:e.getUserInfo.avatar},null,10,j),r("span",{class:a(`${e.prefixCls}__info hidden md:block`)},[r("span",{class:a([`${e.prefixCls}__name  `,"truncate"])},E(e.getUserInfo.realName),3)],2)],2)]),_:1},8,["overlayClassName"]),t(l,{onRegister:e.register},null,8,["onRegister"])],64)}var se=L(H,[["render",z]]);export{se as default};
