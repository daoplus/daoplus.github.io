import{k as d,aX as G,a as I,r as k,p as R,aE as X,o as c,J as g,q as p,j as F,l as m,B as w,s as U,t as a,cD as q,i as D,F as J,z as h}from"./index.0ed6934c.js";import{C as V}from"./index.1b2b4630.js";import"./index.88d6e5d7.js";import"./index.4169d3d7.js";import{T as N}from"./index.ef73543a.js";import{P as Y}from"./index.5ff0fe3a.js";import Z from"./WorkbenchHeader.31b5a0fe.js";import{L as Q}from"./LockOutlined.806d0e8a.js";import{E as ee}from"./EditOutlined.db78ba04.js";import"./index.b6ef1963.js";import"./useRefs.29c5634c.js";import"./iconUtil.1474d9db.js";import"./eagerComputed.6b5c4238.js";import"./index.41de2a72.js";import"./index.85f4e992.js";import"./useSize.d194b635.js";import"./useWindowSizeFn.8105d423.js";import"./useContentViewHeight.97eb7da2.js";import"./ArrowLeftOutlined.8a73e276.js";import"./index.6759a4c9.js";import"./transButton.c58eb461.js";var ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"unlock",theme:"outlined"},te=ue;function P(e){for(var o=1;o<arguments.length;o++){var r=arguments[o]!=null?Object(arguments[o]):{},t=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(E){return Object.getOwnPropertyDescriptor(r,E).enumerable}))),t.forEach(function(E){oe(e,E,r[E])})}return e}function oe(e,o,r){return o in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r,e}var O=function(o,r){var t=P({},o,r.attrs);return d(G,P({},t,{icon:te}),null)};O.displayName="UnlockOutlined";O.inheritAttrs=!1;var ne=O;const re=[{title:"SKU CHP 341",model:"XC098-YU99214",code:"3098-12943",key:"0",count:100,unit:"\u5957"},{title:"1 \u7EA7\u7269\u6599 002",model:"FG113-XV22X14",code:"1121-41331",key:"1",count:100,unit:"\u7247",supplier:"\u706B\u51B0\u79D1\u6280",sourceType:"\u5916\u8D2D",parentKey:"0",description:"\u6F5C\u5728\u98CE\u9669\uFF1A\u4EA7\u80FD\u5F02\u5E38"},{title:"1 \u7EA7\u7269\u6599 082",model:"BT218-CU32287",code:"2351-09878",key:"2",count:100,unit:"\u9488",supplier:"\u6C42\u771F\u7CBE\u5DE5",sourceType:"\u5916\u8D2D",parentKey:"0"},{title:"1 \u7EA7\u7269\u6599 022",model:"BV301-XU11246",code:"2351-09878",key:"3",count:100,unit:"\u9488",supplier:"KDX",parentKey:"0",description:"\u6F5C\u5728\u98CE\u9669\uFF1A\u4F9B\u8D27\u5EF6\u8FDF"},{title:"2 \u7EA7\u7269\u6599 002-087",model:"FV213-XV22X14",code:"2498-07687",key:"12",count:100,unit:"\u5957",supplier:"\u4E94\u884C\u5316\u5B66",sourceType:"\u5916\u8D2D",parentKey:"1"},{title:"2 \u7EA7\u7269\u6599 002-034",model:"XT211-CU32287",code:"9870-45372",key:"13",count:100,unit:"\u5355\u4F4D",supplier:"\u56FD\u79D8\u7CBE\u5DE5",sourceType:"\u5916\u8D2D",parentKey:"1"},{title:"2 \u7EA7\u7269\u6599 002-041",model:"ER980-XV22X14",code:"0767-98706",key:"14",count:100,unit:"\u514B",supplier:"\u6838\u79D1\u7535\u5B50",sourceType:"\u5916\u8D2D",parentKey:"1",description:"\u6F5C\u5728\u98CE\u9669\uFF1A\u4EA7\u80FD\u5F02\u5E38"},{title:"2 \u7EA7\u7269\u6599 002-071",model:"DT219-TV17X08",code:"2767-10719",key:"16",count:100,unit:"\u514B",supplier:"\u5373\u523B\u5316\u5DE5",sourceType:"\u5916\u8D2D",parentKey:"1"},{title:"2 \u7EA7\u7269\u6599 082-378",model:"DF012-CU32287",code:"3478-05983",key:"23",count:100,unit:"\u4E2A",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"2"},{title:"2 \u7EA7\u7269\u6599 082-012",model:"BF398-CU32287",code:"1347-26889",key:"29",count:100,unit:"Ku",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"2"},{title:"3 \u7EA7\u7269\u6599 002-087-001",model:"FK313-XF33X13",code:"3498-37687",key:"31",count:200,unit:"\u5343\u514B",supplier:"\u4E45\u80F6\u5408\u6210\u79D1\u6280",sourceType:"\u5916\u8D2D",parentKey:"12"},{title:"3 \u7EA7\u7269\u6599 002-087-002",model:"FR383-SV31X03",code:"3465-37183",key:"32",count:550,unit:"\u5343\u514B",supplier:"\u5927\u5730\u5143\u7D20",sourceType:"\u5916\u8D2D",parentKey:"12"},{title:"3 \u7EA7\u7269\u6599 082-041-098",model:"TH491-KU12586",code:"2327-15489",key:"33",count:100,unit:"\u9897",supplier:"\u53F0\u79EF\u7535\u5341\u516D\u5382",sourceType:"\u5916\u8D2D",parentKey:"14"},{title:"3 \u7EA7\u7269\u6599 082-012-098",model:"TH491-KU12586",code:"2327-15489",key:"34",count:100,unit:"Ku",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"29"},{title:"3 \u7EA7\u7269\u6599 082-012-112",model:"WZ597-KG32519",code:"1688-670916",key:"35",count:100,unit:"Ka",supplier:"\u9053\u52A0\u79D1\u6280",sourceType:"\u5916\u8D2D",parentKey:"29"},{title:"4 \u7EA7\u7269\u6599 082-012-098-442",model:"TC491-KS00586",code:"1369-12089",key:"40",count:100,unit:"Ku",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"33"},{title:"4 \u7EA7\u7269\u6599 082-012-098-356",model:"WLK97-KS00666",code:"2344-610916",key:"41",count:100,unit:"Ka",supplier:"\u9053\u52A0\u79D1\u6280",sourceType:"\u5916\u8D2D",parentKey:"33"},{title:"5 \u7EA7\u7269\u6599 082-012-098-442-100",model:"TC591-KS00556",code:"5369-14085",key:"50",count:100,unit:"Ku",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"40"},{title:"5 \u7EA7\u7269\u6599 082-012-098-442-098",model:"WFK97-KS00566",code:"5344-510915",key:"51",count:100,unit:"Ka",supplier:"\u9053\u52A0\u79D1\u6280",sourceType:"\u5916\u8D2D",parentKey:"40"},{title:"6 \u7EA7\u7269\u6599 082-012-098-442-100-001",model:"TC691-KS00656",code:"6369-64086",key:"60",count:100,unit:"Ku",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"50"},{title:"6 \u7EA7\u7269\u6599 082-012-098-442-100-002",model:"WFK97-KS10666",code:"6344-610966",key:"61",count:100,unit:"Ka",supplier:"\u9053\u52A0\u79D1\u6280",sourceType:"\u5916\u8D2D",parentKey:"50"},{title:"6 \u7EA7\u7269\u6599 082-012-098-442-100-003",model:"TC691-KS60616",code:"6369-64086",key:"62",count:100,unit:"Ku",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"50"},{title:"6 \u7EA7\u7269\u6599 082-012-098-442-100-004",model:"WFK97-KS16606",code:"6344-616916",key:"63",count:100,unit:"Ka",supplier:"\u9053\u52A0\u79D1\u6280",sourceType:"\u5916\u8D2D",parentKey:"50"},{title:"7 \u7EA7\u7269\u6599 082-012-098-442-100-003-001",model:"TC791-KS70717",code:"7369-74087",key:"70",count:100,unit:"Ku",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"62"},{title:"8 \u7EA7\u7269\u6599 082-012-098-442-100-003-001-001",model:"TC891-KS80818",code:"8369-84088",key:"80",count:100,unit:"Ku",supplier:"KDX",sourceType:"\u81EA\u9020",parentKey:"70"},{title:"8 \u7EA7\u7269\u6599 082-012-098-442-100-003-001-002",model:"TC876-KS81873",code:"8257-84186",key:"81",count:500,unit:"\u514B",supplier:"\u6BD4\u5361\u601D\u6377\u5316\u5B66\u682A\u5F0F\u4F1A\u793E",sourceType:"\u5916\u8D2D",parentKey:"70"}],L=(e,o)=>(o.filter(t=>t.parentKey===e.key)||[]).map(t=>({title:t.title,key:t.key,model:t.model,code:t.code,count:t.count,unit:t.unit,supplier:t.supplier,sourceType:t.sourceType,description:t.description,children:L(t,o)})),le=()=>{const e=re,o=[];return e&&o.push({title:e[0].title,key:e[0].key,model:e[0].model,code:e[0].code,count:e[0].count,unit:e[0].unit,supplier:e[0].supplier,sourceType:e[0].sourceType,description:e[0].description,children:L(e[0],e)}),o},ie={class:"lg:flex"},ce={class:"lg:w-7/10 w-full enter-y"},se={style:{padding:"10px",width:"80%",height:"120px",display:"flex","flex-direction":"column"}},pe={style:{"margin-top":"20px"}},ae={key:0,style:{color:"#1890ff","text-weight":"bold"}},de={key:1,style:{color:"#ff0000"}},ye={class:"lg:w-3/10 w-full enter-y"},me={key:0},De={key:1},Ee={key:2},Ke={key:3},he={key:4},ke={key:5},Fe={key:6},je=I({__name:"index",setup(e){const o=k(!0),r=k(!0),t=k("\u89E3\u9501"),E=k(!1),S=k("admin"),x=k("123456"),H=s=>{E.value=!1,r.value=!1,t.value="\u9501\u5B9A"},W=()=>{r.value?E.value=!0:(r.value=!r.value,t.value="\u89E3\u9501")},$=le(),B=k($),j=s=>{console.log(s)},z=s=>{console.log(s);const n=s.node.key,C=s.dragNode.key,f=s.node.pos.split("-"),_=s.dropPosition-Number(f[f.length-1]),i=(l,K,T)=>{l.forEach((v,b)=>{if(v.key===K)return T(v,b,l);if(v.children)return i(v.children,K,T)})},y=[...B.value];let A;if(i(y,C,(l,K,T)=>{T.splice(K,1),A=l}),!s.dropToGap)i(y,n,l=>{l.children=l.children||[],l.children.unshift(A)});else if((s.node.children||[]).length>0&&s.node.expanded&&_===1)i(y,n,l=>{l.children=l.children||[],l.children.unshift(A)});else{let l=[],K=0;i(y,n,(T,v,b)=>{l=b,K=v}),_===-1?l.splice(K,0,A):l.splice(K+1,0,A)}B.value=y},u=R({title:"",model:"",code:"",count:"",unit:"",supplier:"",sourceType:"",description:""}),M=(s,n)=>{u.title=n.node.title,u.model=n.node.model,u.code=n.node.code,u.count=n.node.count,u.unit=n.node.unit,u.supplier=n.node.supplier,u.sourceType=n.node.sourceType,u.description=n.node.description};return setTimeout(()=>{o.value=!1},1e3),(s,n)=>{const C=X("a-input"),f=X("a-input-password"),_=X("a-input-search");return c(),g(m(Y),null,{headerContent:p(()=>[d(Z)]),default:p(()=>[F("div",ie,[F("div",ce,[d(m(V),{title:"\u7269\u6599\u6E05\u5355",class:"!my-4 enter-y",loading:o.value},{extra:p(()=>[d(m(w),{shape:"round",size:"small",onClick:W},{icon:p(()=>[r.value?(c(),g(m(Q),{key:0})):(c(),g(m(ne),{key:1}))]),default:p(()=>[U(" "+a(t.value),1)]),_:1})]),default:p(()=>[d(m(q),{centered:"",visible:E.value,"onUpdate:visible":n[2]||(n[2]=i=>E.value=i),title:"\u4FEE\u6539 BOM \u6388\u6743\u767B\u5F55",onOk:H,height:"200px",width:"300px"},{default:p(()=>[F("div",se,[F("div",null,[d(C,{placeholder:"\u7528\u6237\u540D",value:S.value,"onUpdate:value":n[0]||(n[0]=i=>S.value=i)},null,8,["value"])]),F("div",pe,[d(f,{placeholder:"\u5BC6\u7801",value:x.value,"onUpdate:value":n[1]||(n[1]=i=>x.value=i)},null,8,["value"])])])]),_:1},8,["visible"]),d(_,{style:{"margin-bottom":"8px"},placeholder:"\u7269\u6599\u68C0\u7D22"}),d(m(N),{"show-line":"",draggable:!r.value,title:"SKU CHP 341 \u7269\u6599\u6E05\u5355 ( BOM )",checkable:!1,height:512,"tree-data":B.value,onSelect:M,onDragenter:j,onDrop:z},{title:p(({title:i,key:y})=>[y==="0"?(c(),D("span",ae,a(i),1)):y==="14"||y==="1"||y==="3"?(c(),D("span",de,a(i),1)):(c(),D(J,{key:2},[U(a(i),1)],64))]),_:1},8,["draggable","tree-data"])]),_:1},8,["loading"])]),F("div",ye,[d(m(V),{title:"\u7269\u6599\u5C5E\u6027",class:"!my-4 enter-y",loading:o.value},{extra:p(()=>[r.value?h("",!0):(c(),g(m(w),{key:0,shape:"round",size:"small"},{icon:p(()=>[d(m(ee))]),default:p(()=>[U(" \u8C03\u6574 ")]),_:1}))]),default:p(()=>[F("ul",null,[u.title?(c(),D("li",me,a(`\u540D\u79F0\uFF1A ${u.title}`),1)):h("",!0),u.model?(c(),D("li",De,a(`\u578B\u53F7\uFF1A ${u.model}`),1)):h("",!0),u.code?(c(),D("li",Ee,a(`\u7F16\u7801\uFF1A ${u.code}`),1)):h("",!0),u.count?(c(),D("li",Ke,a("\u7528\u91CF\uFF1A"+u.count+" ("+u.unit+")"),1)):h("",!0),u.supplier?(c(),D("li",he,a(`\u4F9B\u5E94\u5546\uFF1A ${u.supplier}`),1)):h("",!0),u.sourceType?(c(),D("li",ke,a(`\u4F9B\u5E94\u5F62\u5F0F\uFF1A ${u.sourceType}`),1)):h("",!0),u.description?(c(),D("li",Fe,a(u.description),1)):h("",!0)])]),_:1},8,["loading"])])])]),_:1})}}});export{je as default};
