var ve=Object.defineProperty,me=Object.defineProperties;var ye=Object.getOwnPropertyDescriptors;var ne=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable;var le=(t,e,n)=>e in t?ve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_=(t,e)=>{for(var n in e||(e={}))be.call(e,n)&&le(t,n,e[n]);if(ne)for(var n of ne(e))Se.call(e,n)&&le(t,n,e[n]);return t},G=(t,e)=>me(t,ye(e));import{B as Ce}from"./index.d37e163a.js";import{k as a,R,V as ge,r as B,F as xe,dk as he,dl as _e,dm as we,_ as w,S as z,a as F,U as Pe,bz as $e,ay as oe,a2 as ue,X as De,aa as je,bN as ae,f as M,az as re,Z as Oe,cm as Ie,Y as ke,b as Me,dn as Ee,l as i,aG as de,dd as Re,dp as Be,ct as Ne,aE as se,aC as Le,df as Ae,M as ze,c as Fe,o as Ue,K as Ve,s as We}from"./index.9ccc87ba.js";import{g as Te}from"./get.64e3dfc2.js";import{getDescSchema as Ge}from"./data.4726ee51.js";import"./useWindowSizeFn.df649d0d.js";import"./FullscreenOutlined.cd0aea3c.js";import"./index.c4e9f513.js";function A(t){return t!=null}var Ke=function(e){var n=e.itemPrefixCls,l=e.component,r=e.span,o=e.labelStyle,c=e.contentStyle,m=e.bordered,u=e.label,f=e.content,d=e.colon,P=l;if(m){var g;return a(P,{class:[(g={},R(g,"".concat(n,"-item-label"),A(u)),R(g,"".concat(n,"-item-content"),A(f)),g)],colSpan:r},{default:function(){return[A(u)&&a("span",{style:o},[u]),A(f)&&a("span",{style:c},[f])]}})}return a(P,{class:["".concat(n,"-item")],colSpan:r},{default:function(){return[a("div",{class:"".concat(n,"-item-container")},[u&&a("span",{class:["".concat(n,"-item-label"),R({},"".concat(n,"-item-no-colon"),!d)],style:o},[u]),f&&a("span",{class:"".concat(n,"-item-content"),style:c},[f])])]}})},K=Ke,Xe=function(e){var n=function(g,y,b){var I=y.colon,N=y.prefixCls,s=y.bordered,S=b.component,v=b.type,h=b.showLabel,k=b.showContent,D=b.labelStyle,$=b.contentStyle;return g.map(function(C,j){var O,x,p=C.props||{},L=p.prefixCls,U=L===void 0?N:L,X=p.span,Y=X===void 0?1:X,Z=p.labelStyle,q=Z===void 0?p["label-style"]:Z,H=p.contentStyle,J=H===void 0?p["content-style"]:H,Q=p.label,ee=Q===void 0?(O=C.children)===null||O===void 0||(x=O.label)===null||x===void 0?void 0:x.call(O):Q,te=he(C),V=_e(C),W=we(C),T=C.key;return typeof S=="string"?a(K,{key:"".concat(v,"-").concat(String(T)||j),class:V,style:W,labelStyle:w(w({},D),q),contentStyle:w(w({},$),J),span:Y,colon:I,component:S,itemPrefixCls:U,bordered:s,label:h?ee:null,content:k?te:null},null):[a(K,{key:"label-".concat(String(T)||j),class:V,style:w(w(w({},D),W),q),span:1,colon:I,component:S[0],itemPrefixCls:U,bordered:s,label:ee},null),a(K,{key:"content-".concat(String(T)||j),class:V,style:w(w(w({},$),W),J),span:Y*2-1,component:S[1],itemPrefixCls:U,bordered:s,content:te},null)]})},l=e.prefixCls,r=e.vertical,o=e.row,c=e.index,m=e.bordered,u=ge(pe,{labelStyle:B({}),contentStyle:B({})}),f=u.labelStyle,d=u.contentStyle;return r?a(xe,null,[a("tr",{key:"label-".concat(c),class:"".concat(l,"-row")},[n(o,e,{component:"th",type:"label",showLabel:!0,labelStyle:f.value,contentStyle:d.value})]),a("tr",{key:"content-".concat(c),class:"".concat(l,"-row")},[n(o,e,{component:"td",type:"content",showContent:!0,labelStyle:f.value,contentStyle:d.value})])]):a("tr",{key:c,class:"".concat(l,"-row")},[n(o,e,{component:m?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0,labelStyle:f.value,contentStyle:d.value})])},Ye=Xe;z.any;var Ze=function(){return{prefixCls:String,label:z.any,labelStyle:{type:Object,default:void 0},contentStyle:{type:Object,default:void 0},span:{type:Number,default:1}}},qe=F({compatConfig:{MODE:3},name:"ADescriptionsItem",props:Ze(),slots:["label"],setup:function(e,n){var l=n.slots;return function(){var r;return(r=l.default)===null||r===void 0?void 0:r.call(l)}}}),fe={xxxl:3,xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function He(t,e){if(typeof t=="number")return t;if(ue(t)==="object")for(var n=0;n<re.length;n++){var l=re[n];if(e[l]&&t[l]!==void 0)return t[l]||fe[l]}return 3}function ce(t,e,n){var l=t;return(e===void 0||e>n)&&(l=Ie(t,{span:n}),ke(e===void 0,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),l}function Je(t,e){var n=Oe(t),l=[],r=[],o=e;return n.forEach(function(c,m){var u,f=(u=c.props)===null||u===void 0?void 0:u.span,d=f||1;if(m===n.length-1){r.push(ce(c,f,o)),l.push(r);return}d<o?(o-=d,r.push(c)):(r.push(ce(c,d,o)),l.push(r),o=e,r=[])}),l}var Qe=function(){return{prefixCls:String,bordered:{type:Boolean,default:void 0},size:{type:String,default:"default"},title:z.any,extra:z.any,column:{type:[Number,Object],default:function(){return fe}},layout:String,colon:{type:Boolean,default:void 0},labelStyle:{type:Object,default:void 0},contentStyle:{type:Object,default:void 0}}},pe=Symbol("descriptionsContext"),E=F({compatConfig:{MODE:3},name:"ADescriptions",props:Qe(),slots:["title","extra"],Item:qe,setup:function(e,n){var l=n.slots,r=Pe("descriptions",e),o=r.prefixCls,c=r.direction,m,u=B({});$e(function(){m=oe.subscribe(function(d){ue(e.column)==="object"&&(u.value=d)})}),De(function(){oe.unsubscribe(m)}),je(pe,{labelStyle:ae(e,"labelStyle"),contentStyle:ae(e,"contentStyle")});var f=M(function(){return He(e.column,u.value)});return function(){var d,P,g,y,b=e.size,I=e.bordered,N=I===void 0?!1:I,s=e.layout,S=s===void 0?"horizontal":s,v=e.colon,h=v===void 0?!0:v,k=e.title,D=k===void 0?(d=l.title)===null||d===void 0?void 0:d.call(l):k,$=e.extra,C=$===void 0?(P=l.extra)===null||P===void 0?void 0:P.call(l):$,j=(g=l.default)===null||g===void 0?void 0:g.call(l),O=Je(j,f.value);return a("div",{class:[o.value,(y={},R(y,"".concat(o.value,"-").concat(b),b!=="default"),R(y,"".concat(o.value,"-bordered"),!!N),R(y,"".concat(o.value,"-rtl"),c.value==="rtl"),y)]},[(D||C)&&a("div",{class:"".concat(o.value,"-header")},[D&&a("div",{class:"".concat(o.value,"-title")},[D]),C&&a("div",{class:"".concat(o.value,"-extra")},[C])]),a("div",{class:"".concat(o.value,"-view")},[a("table",null,[a("tbody",null,[O.map(function(x,p){return a(Ye,{key:p,index:p,colon:h,prefixCls:o.value,vertical:S==="vertical",bordered:N,row:x},null)})])])])])}}});E.install=function(t){return t.component(E.name,E),t.component(E.Item.name,E.Item),t};var ie=E;function et(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Ne(t)}const tt={useCollapse:{type:Boolean,default:!0},title:{type:String,default:""},size:{type:String,validator:t=>["small","default","middle",void 0].includes(t),default:"small"},bordered:{type:Boolean,default:!0},column:{type:[Number,Object],default:()=>({xxl:4,xl:3,lg:3,md:3,sm:2,xs:1})},collapseOptions:{type:Object,default:null},schema:{type:Array,default:()=>[]},data:{type:Object}};var nt=F({name:"Description",props:tt,emits:["register"],setup(t,{slots:e,emit:n}){const l=B(null),{prefixCls:r}=Me("description"),o=Ee(),c=M(()=>_(_({},t),i(l))),m=M(()=>G(_({},i(c)),{title:void 0})),u=M(()=>!!i(c).title),f=M(()=>_({canExpand:!1},i(m).collapseOptions)),d=M(()=>_(_({},i(o)),i(m)));function P(s){l.value=_(_({},i(l)),s)}function g({label:s,labelMinWidth:S,labelStyle:v}){if(!v&&!S)return s;const h=G(_({},v),{minWidth:`${S}px `});return a("div",{style:h},[s])}function y(){const{schema:s,data:S}=i(m);return i(s).map(v=>{const{render:h,field:k,span:D,show:$,contentMinWidth:C}=v;if($&&se($)&&!$(S))return null;const j=()=>{var L;const x=(L=i(m))==null?void 0:L.data;if(!x)return null;const p=Te(x,k);return se(h)?h(p,x):p!=null?p:""},O=C;return a(ie.Item,{label:g(v),key:k,span:D},{default:()=>{if(!C)return j();const x={minWidth:`${O}px`};return a("div",{style:x},[j()])}})}).filter(v=>!!v)}const b=()=>{let s;return a(ie,de({class:`${r}`},i(d)),et(s=y())?s:{default:()=>[s]})},I=()=>{const s=t.useCollapse?b():a("div",null,[b()]);if(!t.useCollapse)return s;const{canExpand:S,helpMessage:v}=i(f),{title:h}=i(c);return a(Be,{title:h,canExpan:S,helpMessage:v},{default:()=>s,action:()=>Re(e,"action")})};return n("register",{setDescProps:P}),()=>i(u)?I():b()}});function lt(t){if(!Le())throw new Error("useDescription() can only be used inside setup() or functional components!");const e=B(null),n=B(!1);function l(o){i(n)&&Ae()||(e.value=o,t&&o.setDescProps(t),n.value=!0)}return[l,{setDescProps:o=>{var c;(c=i(e))==null||c.setDescProps(o)}}]}const ot=ze(nt),pt=F({__name:"DetailModal",props:{info:{type:Object,default:null}},setup(t){const{t:e}=Fe(),[n]=lt({column:2,schema:Ge()});return(l,r)=>(Ue(),Ve(i(Ce),de({width:800,title:i(e)("sys.errorLog.tableActionDesc")},l.$attrs),{default:We(()=>[a(i(ot),{data:t.info,onRegister:i(n)},null,8,["data","onRegister"])]),_:1},16,["title"]))}});export{pt as default};
